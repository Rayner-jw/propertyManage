webpackJsonp([6],{0:function(e,t){},"51Er":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var n=function(e,t){var s={yyyy:e.getFullYear(),yy:(""+e.getFullYear()).slice(-2),M:e.getMonth()+1,MM:("0"+(e.getMonth()+1)).slice(-2),d:e.getDate(),dd:("0"+e.getDate()).slice(-2),H:e.getHours(),HH:("0"+e.getHours()).slice(-2),h:e.getHours()%12,hh:("0"+e.getHours()%12).slice(-2),m:e.getMinutes(),mm:("0"+e.getMinutes()).slice(-2),s:e.getSeconds(),ss:("0"+e.getSeconds()).slice(-2),w:["日","一","二","三","四","五","六"][e.getDay()]};return t.replace(/([a-z]+)/gi,function(e){return s[e]})}},8423:function(e,t){},I2Ym:function(e,t,s){"use strict";var n=s("51Er"),a={name:"homeHeaderNav",data:function(){return{uid:localStorage.uid,notify:[],message:[],account:"",formatDate:n.a}},created:function(){this.$http.get("http://localhost:3000/user/notify/notify?uid="+this.uid).then(function(e){this.notify=e.body.results,this.account=e.body.account},function(e){if(void 0===e.body.msg)var t="服务器正在维护，造成不便，请理解！";else t=e.body.msg;Message({type:"error",message:t})}),this.$http.get("http://localhost:3000/user/notify/message?uid="+this.uid).then(function(e){this.message=e.body.results},function(e){if(void 0===e.body.msg)var t="服务器正在维护，造成不便，请理解！";else t=e.body.msg;Message({type:"error",message:t})})},methods:{logOut:function(){this.$http.post("http://localhost:3000/logOut").then(function(e){location.href=e.body.url},function(e){if(void 0===e.body.msg)var t="服务器正在维护，造成不便，请理解！";else t=e.body.msg;Message({type:"error",message:t})})}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"homeHeaderNav"},[s("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"}},[s("el-badge",{staticClass:"icon",attrs:{value:e.message.length,hidden:!e.message.length}},[s("i",{staticClass:"my-icon my-icon-3"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("div",{staticClass:"dropdownBox"},[s("h4",[e._v(" "+e._s(0!=e.message.length?"您有"+e.message.length+"条未读消息":"暂无未读消息")+" ")]),e._v(" "),e._l(e.message,function(t){return 0!=e.message.length?[s("span",[e._v("["+e._s(e.formatDate(new Date(t.createAt),"yyyy-MM-dd HH:mm:ss"))+"] "),s("span",[e._v(e._s(t.content))])])]:e._e()}),e._v(" "),0!=e.message.length?s("a",{attrs:{href:"/user/receiveMsg"}},[e._v("查看全部")]):e._e()],2)])],1),e._v(" "),s("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"}},[s("el-badge",{staticClass:"icon",attrs:{value:e.notify.length,hidden:!e.notify.length}},[s("i",{staticClass:"my-icon my-icon-gonggao"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("div",{staticClass:"dropdownBox"},[s("h4",[e._v(" "+e._s(0!=e.notify.length?"您有"+e.notify.length+"条未读公告":"暂无未读公告")+" ")]),e._v(" "),e._l(e.notify,function(t){return 0!=e.notify.length?[s("span",[e._v("["+e._s(e.formatDate(new Date(t.createAt),"yyyy-MM-dd HH:mm:ss"))+"] "),s("span",[e._v(e._s(t.annocementContent))])])]:e._e()}),e._v(" "),0!=e.notify.length?s("a",{attrs:{href:"/user/annocementLog"}},[e._v("查看全部")]):e._e()],2)])],1),e._v(" "),s("el-dropdown",{staticClass:"icon_me",attrs:{trigger:"click",placement:"bottom"}},[s("el-badge",{staticClass:"icon"},[s("i",{staticClass:"my-icon my-icon-iconuser"})]),e._v(" "),s("el-dropdown-menu",{staticClass:"userBox",attrs:{slot:"dropdown"},slot:"dropdown"},[[s("li",[e._v(e._s("用户 "+e.account))]),e._v(" "),s("li",{staticClass:"line"}),e._v(" "),s("li",[s("a",{attrs:{href:"/user/basicInfo"}},[e._v("基本信息")])]),e._v(" "),s("li",[s("a",{attrs:{href:"/user/setting"}},[e._v("安全设置")])]),e._v(" "),s("li",{staticClass:"line"}),e._v(" "),s("li",{on:{click:e.logOut}},[e._v("退出")])]],2)],1)],1)},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(e){s("8423")},null,null);t.a=o.exports},JDTj:function(e,t){},bKyE:function(e,t,s){"use strict";var n=s("zL8q"),a={name:"menuNav",data:function(){return{uid:localStorage.uid,menus:[]}},created:function(){void 0===this.uid&&(Object(n.Message)({type:"warning",message:"登录信息已失效，请重新登录"}),setTimeOut(function(){location.href="/"},2e3)),this.$http.get("http://localhost:3000/menus?uid="+this.uid).then(function(e){this.menus=e.body},function(e){if(void 0===e.body.msg)var t="服务器正在维护，造成不便，请理解！";else t=e.body.msg;Object(n.Message)({type:"error",message:t})})},methods:{}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menuNav"},[s("el-menu",{staticClass:"menu",attrs:{"unique-opened":!0,"background-color":"#222d32","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.menus,function(t,n){return s("el-submenu",{key:n,attrs:{index:n+""}},[s("template",{slot:"title"},[s("i",{class:t.icon}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.menuName))])]),e._v(" "),e._l(t.childs,function(t,a){return s("el-menu-item",{key:a,attrs:{index:n+"-"+a}},[s("a",{attrs:{href:t.url}},[e._v(e._s(t.name))])])})],2)}))],1)},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(e){s("j/pX")},null,null);t.a=o.exports},cF5e:function(e,t){},"g+Ln":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),a=s("bKyE"),i=s("I2Ym"),o=s("zL8q"),r={name:"repairProcess",data:function(){return{uid:localStorage.uid,repairs:[],allRepair:[],seeMore:"查看更多",isSee:!1}},created:function(){this.$http.get("http://localhost:3000/user/repairApi?uid="+this.uid).then(function(e){this.allRepair=e.body,this.allRepair.length>=2?this.repairs=this.allRepair.slice(0,2):this.repairs=this.allRepair},function(e){if(void 0===e.body.msg)var t="服务器正在维护，造成不便，请理解！";else t=e.body.msg;Object(o.Message)({type:"error",message:t})})},methods:{cancelEvt:function(e,t){var s=this;1==Number(e.repairProcess)?Object(o.Message)({type:"warning",message:"维修工作已在进行，无法取消"}):o.MessageBox.confirm("取消后JW物业处将无法收到此报修申请，是否确定取消","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.confirmCancel(e.repairId,t)}).catch(function(){})},confirmCancel:function(e,t){this.$http.get("http://localhost:3000/user/repairApi?repairId="+e).then(function(e){this.allRepair.splice(t,1),0==this.isSee?this.repairs.splice(t,1):this.repairs=this.allRepair,Object(o.Message)({type:"success",message:"已取消申请"})},function(e){if(void 0===e.body.msg)var t="服务器正在维护，造成不便，请理解！";else t=e.body.msg;Object(o.Message)({type:"error",message:t})})},seeMoreEvt:function(){this.repairs=this.allRepair,this.seeMore="这回真的没了",this.isSee=!0}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"repairProcess"},[s("span",{staticClass:"title"},[e._v("报修情况")]),e._v(" "),s("div",{staticClass:"main"},[0==e.allRepair.length?s("h3",[e._v("报修已完成，没有需要处理的报修")]):[e._l(e.repairs,function(t,n){return s("div",{staticClass:"step"},[s("el-button",{staticClass:"cancel",attrs:{size:"small",type:"text"},on:{click:function(s){e.cancelEvt(t,n)}}},[e._v("取消")]),e._v(" "),s("span",[e._v("["+e._s(t.repairType)+"] ")]),s("span",[e._v(e._s(t.repairContent))]),e._v(" "),s("el-steps",{attrs:{active:t.repairProcess}},[s("el-step",{attrs:{title:"申请成功",description:"报修申请已发起，请等待JW物业处确认"}}),e._v(" "),s("el-step",{attrs:{title:"维修中",description:"已确认报修申请，维修人员正在进行维修"}}),e._v(" "),s("el-step",{attrs:{title:"维修完成"}})],1)],1)}),e._v(" "),s("el-button",{staticStyle:{width:"100%"},attrs:{type:"text",size:"small"},domProps:{innerHTML:e._s(e.seeMore)},on:{click:e.seeMoreEvt}})]],2)])},staticRenderFns:[]};var c=s("VU/8")(r,l,!1,function(e){s("JDTj")},null,null).exports,u={name:"App",components:{MenuNav:a.a,HomeHeaderNav:i.a,RepairProcess:c}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"lf"},[t("MenuNav")],1),this._v(" "),t("div",{staticClass:"lr"},[t("HomeHeaderNav"),this._v(" "),t("RepairProcess")],1)])},staticRenderFns:[]};var p=s("VU/8")(u,d,!1,function(e){s("lclA")},null,null).exports,f=s("8+8L");s("tvR6"),s("cF5e");n.default.use(f.a),n.default.use(o.Form),n.default.use(o.FormItem),n.default.use(o.Input),n.default.use(o.Button),n.default.use(o.Menu),n.default.use(o.Submenu),n.default.use(o.MenuItem),n.default.use(o.MenuItemGroup),n.default.use(o.Badge),n.default.use(o.Dropdown),n.default.use(o.DropdownMenu),n.default.use(o.DropdownItem),n.default.use(o.Steps),n.default.use(o.Step),n.default.config.productionTip=!1,new n.default({el:"#app",template:"<App/>",components:{App:p}})},"j/pX":function(e,t){},lclA:function(e,t){},tvR6:function(e,t){}},["g+Ln"]);
//# sourceMappingURL=repairProcess.697e32ae29564bb39158.js.map