webpackJsonp([30],{"/jya":function(e,t){},0:function(e,t){},IGTl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("7+uW"),a=r("k1aN"),i=r("mvHQ"),l=r.n(i),n=r("zL8q"),o={name:"basicChecking",data:function(){return{uid:localStorage.uid,ruleForm:{},rules:{userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],userPhone:[{required:!0,message:"请输入姓名",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"手机号码格式不正确",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/,message:"身份证号码格式不正确",trigger:"blur"}]},checkStep:0,dialogTableVisible:!1}},created:function(){this.$http.put("http://localhost:3000/user/userBasicInfo",{uid:this.uid}).then(function(e){0==e.body.userStatus&&(this.checkStep=2,this.ruleForm=e.body)},function(e){if(void 0===e.body.msg)var t="服务器正在维护，造成不便，请理解！";else t=e.body.msg;Object(n.Message)({type:"error",message:t})})},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.basicChecking()})},basicChecking:function(){var e=JSON.parse(l()(this.ruleForm));e.uid=this.uid,e.userStatus=2,this.$http.post("http://localhost:3000/user/userBasic",e).then(function(e){Object(n.Message)({type:"success",message:"已提交修改内容"}),this.dialogTableVisible=!1,this.checkStep=0},function(e){if(void 0===e.body.msg)var t="服务器正在维护，造成不便，请理解！";else t=e.body.msg;Object(n.Message)({type:"error",message:t})})}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"basicChecking"},[r("el-steps",{attrs:{active:e.checkStep,"align-center":""}},[r("el-step",{attrs:{title:"审核中",description:"已提交资料审核，待JW物业处审核确认,请耐心等待"}}),e._v(" "),r("el-step",{attrs:{title:"通过"}}),e._v(" "),r("el-step",{attrs:{title:"不通过"}},[r("span",{attrs:{slot:"description"},slot:"description"},[e._v("审核不通过，请点击此处"),r("el-button",{attrs:{disabled:2!=e.checkStep,type:"text",size:"mini"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("修改资料")]),e._v(",重新审核")],1)])],1),e._v(" "),r("el-dialog",{attrs:{title:"修改",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系电话",prop:"userPhone"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.ruleForm.userPhone,callback:function(t){e.$set(e.ruleForm,"userPhone",t)},expression:"ruleForm.userPhone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"身份证",prop:"idCard"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.ruleForm.idCard,callback:function(t){e.$set(e.ruleForm,"idCard",t)},expression:"ruleForm.idCard"}})],1),e._v(" "),r("el-form-item",{attrs:{label:""}},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]};var c=r("VU/8")(o,u,!1,function(e){r("a4mJ")},null,null).exports,d={name:"App",components:{HeaderNav:a.a,BasicChecking:c}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("HeaderNav",[t("span",{attrs:{slot:"navTitle"},slot:"navTitle"},[this._v("资料审核")])]),this._v(" "),t("BasicChecking")],1)},staticRenderFns:[]};var p=r("VU/8")(d,m,!1,function(e){r("/jya")},null,null).exports,f=r("8+8L");r("tvR6"),r("cF5e");s.default.use(f.a),s.default.use(n.Form),s.default.use(n.FormItem),s.default.use(n.Input),s.default.use(n.Button),s.default.use(n.Steps),s.default.use(n.Step),s.default.use(n.Dialog),s.default.config.productionTip=!1,new s.default({el:"#app",template:"<App/>",components:{App:p}})},a4mJ:function(e,t){},btFN:function(e,t){},cF5e:function(e,t){},k1aN:function(e,t,r){"use strict";var s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"headerNav"},[this._t("navTitle")],2)},staticRenderFns:[]};var a=r("VU/8")({name:"headerNav",data:function(){return{}},methods:{}},s,!1,function(e){r("btFN")},null,null);t.a=a.exports},tvR6:function(e,t){}},["IGTl"]);
//# sourceMappingURL=basicChecking.1775de82fe90dcef8685.js.map